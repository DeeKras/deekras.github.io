<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <title>Slices and More - DeeKras.com</title>
    <meta name="description" content="">
    <meta name="author" content="Dee Kras">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://www.deekras.com/theme/html5.js"></script>
    <![endif]-->


    <!-- Le styles -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap.no-icons.min.css" rel="stylesheet">
    <link href="http://www.deekras.com/theme/local.css" rel="stylesheet">
    <link href="http://www.deekras.com/theme/pygments.css" rel="stylesheet">
    <link href="http://www.deekras.com/theme/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Gudea:400,400italic|Alegreya+SC' rel='stylesheet' type='text/css'>

</head>

<body>
<header class="blog-header">
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
	<a href="http://www.deekras.com" class="brand">DeeKras.com</a>
      </div>

      <div class="span3" id="blog-nav">
	<ul class="nav nav-pills pull-right">
	    <li >
	      <a href="http://www.deekras.com/category/about.html ">About</a>
	    <li >
	      <a href="http://www.deekras.com/category/about-python.html ">About  Python</a>
	    <li >
	      <a href="http://www.deekras.com/category/django.html ">Django</a>
	    <li >
	      <a href="http://www.deekras.com/category/general.html ">General</a>
	    <li >
	      <a href="http://www.deekras.com/category/javascript.html ">javascript</a>
	    <li >
	      <a href="http://www.deekras.com/category/postgres.html ">postgres</a>
	    <li  class="active" >
	      <a href="http://www.deekras.com/category/python.html ">Python</a>
	</ul>
      </div>
    </div> <!-- End of fluid row-->
  </div>   <!-- End of Container-->
</header>
    
<div class="container">
    <div class="content">
    <div class="row-fluid">

        <div class="span10">
    <div class='article'>
      <div class="row-fluid">
           <div class="content-title span9">
             <h1>Slices and More</h1>
           </div>
      </div>
    <div class="row-fluid">
      <div class="span2">
<p>Wed 07 October 2015 </p>

<p style="text-align: left;">
Filed under <a href="http://www.deekras.com/category/python.html">Python</a>
</p>
<p style="text-align: left;">
</p>
<p>
</p>
      </div>
      
      <div class="span8">
	<h2>Slices</h2>
<p><strong>First: What is 'Slicing'?</strong>
Slicing allows you to get a substring from a string. Or a portion of a list. That 'slice' is returned.  </p>
<p><strong>The syntax:</strong>
<code>sequence[start:end:step]</code>.<br />
Or you can also think of it as <code>sequence[from index: until index (not including): step]</code>. Remember, Python uses a 0 index. See the <a href="https://docs.python.org/3.0/library/functions.html#slice">docs</a></p>
<p><strong>Direction</strong></p>
<ul>
<li>
<p>If the 'start' is absent or a positive number, then the 'start' is from the left; in other words - forward. If the 'start' is a negative number, then the 'start' index begins from the end.</p>
</li>
<li>
<p>If the 'end' is absent or a positive number, then the 'end' is from the left; in other words - forward. If the 'end' is a negative number, then the 'end' index begins from the end.</p>
</li>
<li>
<p>If the 'step' is absent or a positive number, then the 'start' is from the left; in other words - forward.  If the 'step' is a negative number, then the 'start' is from the right, from the end; in other words - backward. (see examples below)</p>
</li>
</ul>
<p><strong>Defaults</strong></p>
<ul>
<li>
<p>If there is no 'start', then it begins from the beginning - depending on the direction.</p>
</li>
<li>
<p>If there is no 'end', then it goes until the end - depending on the direction.</p>
</li>
<li>
<p>If there is no 'step', then it goes one by one forward. If there is a 'step', then it counts that number, depending on the direction.</p>
</li>
</ul>
<p><hr>
Some examples, using a string. And a list:</p>
<div class="highlight"><pre><span class="n">mystr</span> <span class="o">=</span> <span class="s">&quot;ABCD&quot;</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="s">&quot;d&quot;</span><span class="p">]</span>
</pre></div>


<table border="1" cellpadding="3">
  <center>
  <col width="180">
  <col width="180">
  <col width="600">

  <tr style="border-bottom: thick solid">
    <th>  the code    </th>
    <th>  result   </th>
    <th>  explanation      </th>
  </tr>
  <tr>
    <td> mystr[0] </td>
    <td><center>     'A' <br>  </center></td>
    <td><center>only the element in index 0     </center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[0]</td>
    <td><center>  'a'          </center></td>
    <td><center>only the element in index 0        </center></td>
  </tr>
  <tr>
    <td>mystr[1:]</td>
    <td><center>  'BCD'          </center></td>
    <td><center>start from index 1 until the end         </center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[1:]</td>
    <td><center>['b', 'c', 'd']</center></td>
    <td><center>start from index 1 until the end </center></td>
  </tr>
  <tr>
    <td>mystr[:1]</td>
    <td><center>'A'</center></td>
    <td><center>start from index 0 until index 1</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[:1]</td>
    <td><center>['a']</center></td>
    <td><center>start from index 0 until index 1</center></td>
  </tr>
  <tr>
    <td>mystr[1:3]</td>
    <td><center>'B','C'</center></td>
    <td><center>start from index 1 until index 3</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[1:3]</td>
    <td><center>['b', 'c']
</center></td>
    <td><center>start from index 1 until index 3</center></td>
  </tr>
  <tr>
    <td>mystr[1:6]</td>
    <td><center>'B','C','D'</center></td>
    <td><center>start from index 1 until index 6 (or until the highest index in the sequence)</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[1:6]</td>
    <td><center>['b', 'c', 'd']</center></td>
    <td><center>start from index 1 until index 6 (or until the highest index in the sequence)</center></td>
  </tr>
  <tr>
    <td>mystr[1::2]</td>
    <td><center>'B','D'</center></td>
    <td><center>start from index 1 until index 6 (or until the highest index in the sequence), in step 2</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[1::2]</td>
    <td><center>['b', 'd']</center></td>
    <td><center>start from index 1 until index 6 (or until the highest index in the sequence), in step 2</center></td>
  </tr>
  <tr>
    <td>mystr[-1]</td>
    <td><center>'D'</center></td>
    <td><center>start at the end, for 1 index (In other words, the last element)</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[-1]</td>
    <td><center>['d']</center></td>
    <td><center>start at the end, for 1 index (In other words, the last element)</center></td>
  </tr>
  <tr>
    <td>mystr[:-1]</td>
    <td><center>'ABC'</center></td>
    <td><center>start at index 0, until 1 index starting from the end</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[:-1]</td>
    <td><center>['a', 'b', 'c']</center></td>
    <td><center>start at index 0, until 1 index starting from the end</center></td>
  </tr>
  <tr>
    <td>mystr[2:2]</td>
    <td><center>''</center></td>
    <td><center>start at index 2, until index 2. (In other words, nothing - an empty string)</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[2:2]</td>
    <td><center>[]</center></td>
    <td><center>start at index 2, until index 2. (In other words, nothing - an empty list)</center></td>
  </tr>
  <tr>
    <td>mystr[2:1]</td>
    <td><center>''</center></td>
    <td><center>start at index 2, until index 1.  (Which cannot happen. In other words, nothing - an empty string)</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[2:1]</td>
    <td><center>[]</center></td>
    <td><center>start at index 2, until index 1.  (Which cannot happen. In other words, nothing - an empty list)</center></td>
  </tr>
  <tr>
    <td>mystr[-3:-1]</td>
    <td><center>'BC'</center></td>
    <td><center>start at 3rd to last index, until the 1st to last index</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[-3-1]</td>
    <td><center>['b','c']</center></td>
    <td><center>start at 3rd to last index, until the 1st to last index</center></td>
  </tr>
  <tr>
    <td>mystr[::-1]</td>
    <td><center>'DCBA'</center></td>
    <td><center>start from the end - going backwards, until the beginning (In other words reversed).</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[::-1]</td>
    <td><center>['d', 'c', 'b', 'a']</center></td>
    <td><center>start from the end - going backwards, until the beginning (In other words reversed). </center></td>
  </tr>
  <tr>
    <td>mystr[:]</td>
    <td><center>'ABCD'</center></td>
    <td><center>start from the beginning, until the end (In other words, a copy)</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[:]</td>
    <td><center>['a', 'b', 'c', 'd']</center></td>
    <td><center>start from the beginning, until the end (In other words, a copy)</center></td>
  </tr>
  <tr>
    <td>mystr[2::-1]</td>
    <td><center>'CBA'</center></td>
    <td><center>start from the end - going backward, 2 indexes in, until the beginning</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[2::-1]</td>
    <td><center>['c', 'b', 'a']</center></td>
    <td><center>start from the end - going backward, 2 indexes in, until the beginning</center></td>
  </tr>
  <tr>
    <td>mystr[2:1:-1]</td>
    <td><center>'C'</center></td>
    <td><center>start from the end - going backward, 2 indexes in, for 1 index</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>mylist[2:1:-1]</td>
    <td><center>['c']</center></td>
    <td><center>start from the end - going backward, 2 indexes in, for 1 index</center></td>
  </tr>
  <tr>
    <td>del mystr[:]</td>
    <td><center></center></td>
    <td><center>'str' object does not support item deletion</center></td>
  </tr>
  <tr style="border-bottom: thick solid">
    <td>del mylist[:]</td>
    <td><center>[]</center></td>
    <td><center>deletes the contents in the list, but not the actual list itself</center></td>
  </tr>
</table>

<hr>

<h2>A few more cool things with Slice</h2>
<p>Sometimes, you might find it useful to separate the actual forming of the slice and the passing that slice definition to the actual sequence or list.  You can do that with the built-in method <code>slice</code>. The syntax is <code>a = slice(start, end, step)</code> and then you can use it with the string or list - as <code>mylist[a]</code>.</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span><span class="n">a</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">mylist</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> 
<span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]</span> <span class="c"># start at index one, end at index 5, with step 2</span>

<span class="o">&gt;&gt;&gt;</span><span class="n">mystr</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="s">&#39;BD&#39;</span>

<span class="o">&gt;&gt;&gt;</span><span class="n">a</span><span class="o">.</span><span class="n">start</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">a</span><span class="o">.</span><span class="n">stop</span>
<span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">a</span><span class="o">.</span><span class="n">step</span>
<span class="mi">2</span>
</pre></div>


<p><strong>Conditional Start/ Stop/ Step</strong>
You can use inline conditional statements* directly in the slice definition - for the 'start', 'stop' or 'step'. Note you can use <code>None</code> if you don't want to include the 'start', 'stop' or 'step'.</p>
<p>*Inline conditional statements are one-liner if statements. [See more] (http://www.deekras.com/if-else.html)</p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span><span class="n">i</span><span class="o">=</span><span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">mylist</span><span class="p">[</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">2</span><span class="p">]</span>
<span class="s">&#39;b&#39;</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">mylist</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span> <span class="mi">2</span> <span class="k">if</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">mylist</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">]</span>


<span class="o">&gt;&gt;&gt;</span><span class="n">i</span><span class="o">=</span><span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">mystr</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span> <span class="bp">None</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span><span class="mi">0</span> <span class="k">else</span> <span class="n">i</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="s">&#39;D&#39;</span>
</pre></div>


<p><strong>Assignment</strong></p>
<p>You can assign specified index with a new value. It deletes the elements in those indexes and inserts new values. 
- If no new values are provided, it just deletes the elements in those indexes.</p>
<ul>
<li>If there are more elements to be assigned than those that are deleted, then those 'extra' elements are inserted right after those that did have a place to be inserted.</li>
</ul>
<p>It actually changes the list; and does not return anything. (You'll have to call the list to see the actual change.)
Note: Assignment does not work with strings.</p>
<table border="1" cellpadding="3">
  <center>
  <col width="180">
  <col width="180">
  <col width="600">

  <tr >
    <th>  the code    </th>
    <th>  result   </th>
    <th>  explanation      </th>
  </tr>
  <tr>
    <td> mylist[0] = "1"</td>
    <td><center>['1', 'b', 'c', 'd']</center></td>
    <td><center>assigns "1" in the 0 index </center></td>
  </tr>
  <tr>
    <td>mylist[0] = "1", "2"</td>
    <td><center>[('1', '2'), 'b', 'c', 'd']</center></td>
    <td><center>assigns all into the 0 index</center></td>
  </tr>
  <tr>
    <td> mylist[0:2] = "1"</td>
    <td><center>['1', 'c', 'd'] <br>  </center></td>
    <td><center> is prepared to assign into the 0 index and the 1 index, so deletes those 2 elements. but only has 1 element to assign</center></td>
  </tr>
  <tr>
    <td>mylist[0:2] = "1", "2"</td>
    <td><center>['1', '2', 'c', 'd']</center></td>
    <td><center>is prepared to assign into the 0 index and the 1 index, so deletes those 2 elements. and assigns the "1" and "2" to those indexes</center></td>
  </tr>
  <tr>
    <td>mylist[0:1] = "12"</td>
    <td><center>['1', '2', 'b', 'c', 'd']</center></td>
    <td><center>is prepared to assign to the 0 index. it reads the string "12" as iterator, so places each element - the "1" and "2" in the iterator into the list - starting at the 0 index.</center></td>
  </tr>
  <tr>
    <td>mylist[0:1] = "12",</td>
    <td><center>['12', 'b', 'c', 'd']</center></td>
    <td><center>is prepared to assign to the 0 index. it reads the string as an item in a tuple - notice the comma at the end. so places the "12" into the list - starting at the 0 index.</center></td>
  </tr>
  <tr>
    <td>mylist[1:2] = []</td>
    <td><center>['a', 'c', 'd']</center></td>
    <td><center>is prepared to assign to the 1 index. There is nothing to assign, so essentially, it deletes that element.</center></td>
  </tr>
  <tr>
    <td>mylist[:] = "1", "2", "3"</td>
    <td><center>['1', '2', '3']</center></td>
    <td><center>is prepared to assign to the entire list. And places the elements into the list - starting at the beginning</center></td>
  </tr>
  <tr>
    <td>mylist[0:2] = ["1"]</td>
    <td><center>['1', 'c', 'd']</center></td>
    <td><center></center></td>
  </tr>
    <tr>
    <td>mylist[0:2] = ["1","2", "3"]</td>
    <td><center>['1', '2', '3', 'c', 'd']</center></td>
    <td><center></center></td>
  </tr>
  <tr>
    <td>mystr[0] = "1" </td>
    <td><center></center></td>
    <td><center>TypeError: 'str' object does not support item assignment</center></td>
  </tr>
</table>

<p><strong>islice</strong></p>
<p><code>islice</code> is from the itertools library. It creates an iterator from the slice. This saves memory since the data is not produced from the iterator until it is needed. See the <a href="https://docs.python.org/2/library/itertools.html#itertools.islice">docs</a></p>
<div class="highlight"><pre><span class="o">&gt;&gt;&gt;</span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">islice</span><span class="p">,</span> <span class="n">count</span>

<span class="o">&gt;&gt;&gt;</span><span class="n">islice</span><span class="p">(</span><span class="n">mylist</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">itertools</span><span class="o">.</span><span class="n">islice</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f00bf0937e0</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">mylist</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span><span class="n">islice</span><span class="p">(</span><span class="n">mystr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">itertools</span><span class="o">.</span><span class="n">islice</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f00bf0937e0</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span><span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">mystr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">islice</span><span class="p">(</span><span class="n">count</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
      <span class="k">print</span> <span class="n">i</span><span class="p">,</span>
<span class="mi">0</span> <span class="mi">10</span> <span class="mi">20</span> <span class="mi">30</span> <span class="mi">40</span> <span class="mi">50</span> <span class="mi">60</span> <span class="mi">70</span> <span class="mi">80</span> <span class="mi">90</span>
</pre></div>
	<hr />
      </div>
    </div>
    <div class="span10">
      <h3>Comments</h3>
    
    </div>  
    </div>
        </div>
        
        
    </div>     </div> </div>

<!--footer-->
<div class="container">
  <div class="well" style="background-color: #E9EFF6">
    <div id="blog-footer">
      <div class="row-fluid">
	<div class="social span2" align="center" id="socialist">
	  <ul class="nav nav-list">
	    <li class="nav-header">
	      Social
	    </li>
	    <li><a href="deekras"><i class="icon-github" style="color: #1f334b"></i>github</a></li>
	    <li><a href="#"><i class="icon-Another social link" style="color: #1f334b"></i>Another social link</a></li>

	  </ul>
	</div>
        <div class="links span2" align="center">
          <ul class="nav nav-list">
            <li class="nav-header"> 
              Links
            </li>
            
            <li><a href="http://python.org/">Python.org</a></li>
            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
          </ul>
        </div>
	<div class="site-nav span2" align="center">
          <ul class="nav nav-list" id="site-links">
            <li class="nav-header"> 
              Site
            </li>
            <li><a href="http://www.deekras.com"><i class="icon-home" style="color: #1f334b">
                </i>Home</a></li>
            <li><a href="http://www.deekras.com/archives.html"><i class="icon-list" style="color: #1f334b">
                </i>Archives</a></li>
	    <li><a href="http://www.deekras.com/tags.html"><i class="icon-tags" style="color: #1f334b">
                </i>Tags</a></li>
	    
	  </ul>

        </div>

      </div> <!--end of fluid row-->
    </div> <!--end of blog-footer-->
    <hr />
    <p align="center"><a href="http://www.deekras.com">DeeKras.com</a>
      &copy; Dee Kras
    Powered by <a href="github.com/getpelican/pelican">Pelican</a> and
        <a href="https://twitter.github.com/bootstrap">Twitter Bootstrap</a>. 
        Icons by <a href="http://fortawesome.github.com/Font-Awesome">Font Awesome</a> and 
        <a href="http://gregoryloucas.github.com/Font-Awesome-More">Font Awesome More</a></p>

  </div> <!--end of well -->
</div> <!--end of container -->

<!--/footer-->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>



</body>
</html>